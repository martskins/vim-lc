set nocompatible
filetype off

call plug#begin()
Plug '~/dev/vim-lc'
call plug#end()

filetype plugin indent on

set expandtab
set shiftwidth=4

syntax on
set binary
set noshowmatch " this doesn't work on OSX, DisableMatchParen achieves the same
set nomodeline
set number relativenumber
set signcolumn=yes
set hlsearch

set completeopt=noinsert,menuone,noselect

let g:vlc#log#level = 'error'
let g:vlc#servers = {
      \ 'go': {
      \   'name': 'gopls',
      \   'command': 'gopls',
      \   'initializationOptions': {
      \     'codelens': { 'test': v:true, 'gc_details': v:true },
      \   },
      \  },
      \ 'rust': { 'name': 'rust-analyzer', 'command': 'rust-analyzer' },
      \ }

nmap <silent>gd :VLCDefinition<CR>
nmap <silent>gi :VLCImplementation<CR>
nmap <silent>gr :VLCReferences<CR>
nmap <silent>ga :VLCCodeAction<CR>
nmap <silent>gl :VLCCodeLensAction<CR>
nmap <silent>R  :VLCRename<CR>
nmap <silent>K  :VLCHover<CR>
nmap <silent>F  :VLCFormatting<CR>
